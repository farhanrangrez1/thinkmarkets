!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("headerthemetoggle",[],t):"object"==typeof exports?exports.headerthemetoggle=t():e.headerthemetoggle=t()}(this,(()=>(()=>{var e={3096:(e,t,n)=>{var r="Expected a function",o=NaN,i="[object Symbol]",c=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,d=parseInt,s="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,f="object"==typeof self&&self&&self.Object===Object&&self,g=s||f||Function("return this")(),p=Object.prototype.toString,h=Math.max,m=Math.min,y=function(){return g.Date.now()};function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&p.call(e)==i}(e))return o;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(c,"");var n=l.test(e);return n||u.test(e)?d(e.slice(2),n?2:8):a.test(e)?o:+e}e.exports=function(e,t,n){var o=!0,i=!0;if("function"!=typeof e)throw new TypeError(r);return v(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),function(e,t,n){var o,i,c,a,l,u,d=0,s=!1,f=!1,g=!0;if("function"!=typeof e)throw new TypeError(r);function p(t){var n=o,r=i;return o=i=void 0,d=t,a=e.apply(r,n)}function w(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-d>=c}function x(){var e=y();if(w(e))return j(e);l=setTimeout(x,function(e){var n=t-(e-u);return f?m(n,c-(e-d)):n}(e))}function j(e){return l=void 0,g&&o?p(e):(o=i=void 0,a)}function E(){var e=y(),n=w(e);if(o=arguments,i=this,u=e,n){if(void 0===l)return function(e){return d=e,l=setTimeout(x,t),s?p(e):a}(u);if(f)return l=setTimeout(x,t),p(u)}return void 0===l&&(l=setTimeout(x,t)),a}return t=b(t)||0,v(n)&&(s=!!n.leading,c=(f="maxWait"in n)?h(b(n.maxWait)||0,t):c,g="trailing"in n?!!n.trailing:g),E.cancel=function(){void 0!==l&&clearTimeout(l),d=0,o=u=i=l=void 0},E.flush=function(){return void 0===l?a:j(y())},E}(e,t,{leading:o,maxWait:t,trailing:i})}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";n.r(r),n.d(r,{setupHeaderThemeToggling:()=>b});var e=n(3096),t=n.n(e);const o="__header-theme-toggle_",i=`${o}content-container`,c=`${o}change-header`,a=`${c}--dark`,l=`${c}--light`;let u,d,s,f,g=0;const p=(e,t=1)=>{if(20===t)return;const n=(e=>{const t=window.getComputedStyle(e)["background-color"];if(!["rgba(0, 0, 0, 0)"].includes(t))return t})(e);if(n)return n;const r=e.childNodes;for(let e=0;e<r.length;e++){const n=r[e];if(1===n.nodeType)return p(n,t+1)}},h=e=>{if(!d)return;const t=d[e].node,n=t.classList,r=n.contains(a),o=n.contains(l);return r||!o&&"dark"===(e=>{if(!e)return"light";const t=e.replace(/[^\d,.]/g,"").split(","),n=((e,t,n)=>{e/=255,t/=255,n/=255;const r=Math.min(e,t,n),o=Math.max(e,t,n),i=o-r;let c=0,a=0,l=0;return c=0===i?0:o===e?(t-n)/i%6:o===t?(n-e)/i+2:(e-t)/i+4,c=Math.round(60*c),c<0&&(c+=360),l=(o+r)/2,a=0===i?0:i/(1-Math.abs(2*l-1)),a=+(100*a).toFixed(1),l=+(100*l).toFixed(1),`hsl(${c},${a}%,${l}%)`})(t[0],t[1],t[2]).replace(/[^\d,.]/g,"").split(","),r=n.length&&void 0!==n[2]?n[2]:void 0;return!r||Number(r)>50?"light":"dark"})(p(t))},m=(e,t=!0,n=!1)=>{if(!d||!f||!s)return;if(s.classList.toggle("has-header-height-scrolled",n),!t)return;const r=h(e);s.classList.toggle("has-dark-header",r),s.classList.toggle("has-light-header",!r)},y=()=>{if(d?.length){for(let e=0;e<d.length;e++){const t=d[e],{top:n,bottom:r}=t.node.getBoundingClientRect();if(n<=g&&r>g){const t=window.scrollY>g;return m(e,u!==e,t),void(u=e)}}u=void 0}},v=()=>{if(!f)return;const{bottom:e}=f.getBoundingClientRect();g=e,(()=>{if(!s||!f)return;const e=(()=>{const e=document.querySelectorAll("body>main>*, body>footer");if(!e?.length)return;const t=[...e].filter((e=>"none"!==window.getComputedStyle(e).display));return t.forEach(((e,n)=>{var r;const o=(e=>{let t=e;return[{regExp:/\\000020/g,replacement:" "},{regExp:/\\\./g,replacement:"."},{regExp:/\\>/g,replacement:">"},{regExp:/\\\*/g,replacement:"*"},{regExp:/\\:/g,replacement:":"},{regExp:/\\,/g,replacement:","}].forEach((({regExp:e,replacement:n})=>{t=t.replace(e,n)})),t})((e=>{if(!e)return"";const t=new RegExp(`${i}___([^ ]+)`,"g");return[...e.matchAll(t)].map((e=>e[1])).join(",")})((r=e.classList,[...r].join(" "))));let c;try{c=o&&e.querySelectorAll(`:scope ${o}`)}catch(e){console.debug("Error while querying for nested sections!:",e)}if(c?.length){const e=[...c].filter((e=>"none"!==window.getComputedStyle(e).display));e?.length&&t.splice(n,1,...e)}})),t})();e?.length&&(d=[...e].map((e=>({node:e}))))})(),y()},b=()=>{s=document.body,f=s?.querySelector("header")||void 0,v()},w=t()(y,100),x=t()(v,100);"undefined"!=typeof window&&(document.addEventListener("DOMContentLoaded",b),window.addEventListener("resize",x),window.addEventListener("scroll",w))})(),r})()));
//# sourceMappingURL=headerthemetoggle.js.map